<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Altura</title>
    <script>
        /*
        Elaborar um programa que armazene o nome e a altura de 15 pessoas, por meio do uso de
        registros. O programa deverá ser manipulado por um menu que execute as seguintes etapas:

        a) Cadastrar os 15 registros.
        b) Apresentar os registros (nome e altura) das pessoas menores ou iguais a 1.5m.
        c) Apresentar os registros (nome e altura) das pessoas que sejam maiores que 1.5m.
        d) Apresentar os registros (nome e altura) das pessoas que sejam maiores que 1.5m e menores que
        2.0m.
        e) Apresentar a média extraída de todas as alturas armazenadas.
        f) Sair do programa.
        */

        var cadastrados = [];

        function inicio() {
            var escolha = parseInt(prompt("AGENDA\n1) Cadastro\n2) Listar pessoas menores ou iguais a 1.5m\n3) Listar pessoas maiores que 1.5m\n4) Listar pessoas maiores que 1.5m e menores que 2.0m\n5) Média das alturas\n 6) Sair"));


            switch(escolha) {
                case 1: cadastro(); break;
                case 2: apresentarRegistros(1); break;
                case 3: apresentarRegistros(2); break;
                case 4: apresentarRegistros(3); break;
                case 5: media(); break;
                case 6: sair(); break;

                default:  alert("Opção inválida");
            }
            inicio();
        }

        function cadastro() {
            var numCadastros = parseInt(prompt("Insira a quantidade de cadastros:")); 
            if(numCadastros <= 0 || isNaN(numCadastros)) {
                alert("ERRO: Integer incorreto, tente novamente.");
                cadastro();
            }

            for(let i = 0; i < numCadastros; i++) {
                var nome  = prompt("Digite o nome: ");
                var altura =  parseFloat(prompt("Digite sua altura: "));

                if(nome && isNaN(altura) || altura <= 0) {

                    var cadastro = {nome:nome,altura:altura};
                    cadastrados.push(cadastro);
                } else {
                    alert("ERRO: String incorreto, tente novamente.");
                    i--;
                }
            }
            inicio();
        }

        function  apresentarRegistros(opcao) {
             var mensaegem = 'LISTA DE PESSOAS:\n'
            switch(opcao) {
                case 1:
                    for(let i = 0; i < cadastrados.length; i++) {
                        if(cadastrados[i].altura <= 1.5) {
                            mensaegem += `Nome: ${cadastrados[i].nome} | Altura: ${cadastrados[i].altura}\n`

                        }
                    }
                    break;
                case 2:
                    for(let i = 0; i < cadastrados.length; i++) {
                        if(cadastrados[i].altura >= 1.5) {
                            mensaegem += `Nome: ${cadastrados[i].nome} | Altura: ${cadastrados[i].altura}\n`

                        }
                    }
                    break;
                case 3:
                    for(let i = 0; i < cadastrados.length; i++) {
                        if(cadastrados[i].altura >= 1.5 &&  cadastrados[i].altura <= 2.0) {
                            mensaegem += `Nome: ${cadastrados[i].nome} | Altura: ${cadastrados[i].altura}\n`
                        }
                    }
                    break;        
                default:
                    mensaegem = "Opção invalida"
            }
            inicio();
        }

        function media() {
            var soma = 0;
            for(let i = 0; i < cadastrados.length; i++) {
                soma += cadastrados[i].altura;
            }
            var media = soma / cadastrados.length;
            alert(`A média de altura é: ${media}`);
        }

        function sair() {
            var  resposta = confirm("Deseja sair do sistema de altura?");
            if (resposta) {
                alert("Obrigado por usar o sistema de altura!");
            }
        }

        inicio()
    </script>
</head>
<body>
    
</body>
</html>