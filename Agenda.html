<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda</title>
    <script>
        var contatos = [];

        function inicio() {
// a) Cadastrar os 10 registros.
// b) Pesquisar um dos 10 registros de cada vez pelo campo nome (usar o método seqüencial).
// c) Classificar por ordem de nome os registros cadastrados.
// d) Apresentar todos os registros.
// e) Sair do programa de cadastro.
            var escolha = parseInt(prompt("AGENDA\n1) Cadastro\n2) Pesquisar\n3)  Classificar\n4) Listar\n5) Sair"));

            switch(escolha) {
                case 1: cadastro(); break;
                case 2: pesquisar(); break;
                case 3: classificar(); break;
                case 4: listar(); break;
                case 5: sair(); break;
                default:  alert("Opção inválida");
            }
            inicio();
        }

        function pesquisar() {
            var opcao = parseInt(prompt("Escollha sua opção:\n1)  Pesquisar por nome\n2) Pesquisar por telefone \n3) Voltar"));

            switch(opcao) {
                case 1: 
                    var nome = prompt("Digite o nome a ser pesquisado: ");
                    if(contatos.some(contato => contato.nome == nome)) {
                        var contato = contatos.find(contato => contato.nome == nome);
                        alert("CONTATO ENCONTRADO\n Nome: " + contato.nome + "\nTelefone: " + contato.telefone);
                    }
                    break;
                case 2:
                    var telefone = prompt("Digite o telefone a ser pesquisado: ");
                    if(contatos.some(contato => contato.telefone == telefone)) {
                        var contato = contatos.find(contato => contato.telefone == telefone);
                        alert("CONTATO ENCONTRADO\n Nome: " + contato.nome + "\nTelefone: " + contato.telefone);
                    }
                    break;
                case 3: 
                    inicio();
                    break;
                default:  alert("Opção inválida");
            }
            inicio();
        }

        function cadastro() {
            var numCadastros = parseInt(prompt("Insira a quantidade de cadastros:"));
            for(let i = 0; i < numCadastros; i++) {
                var nome  = prompt("Digite o nome: ");
                var endereco =  prompt("Digite o endereço: ");
                var telefone  = prompt("Digite o telefone: ");
                
                var contato = {nome:nome,endereco:endereco,telefone:telefone};
                contatos.push(contato);
            }
            inicio();
        }

        function classificar() {
            contatos.sort((a, b) => a.nome.localeCompare(b.nome));
            alert("Contatos classificados por nome");
            var mensaegem = 'LISTA CONTATOS:\n'
            for(let i = 0; i < contatos.length; i++) {
                mensaegem +=  (i+1) + ") Nome: " + contatos[i].nome + "\nTelefone:  " + contatos[i].telefone + "\n";
            }
            alert(mensaegem);

            inicio();
        }

        function listar() {

            inicio();
        }

        function sair() {
            var sair = confirm ("Deseja sair da agenda?");
            if(sair) {
                window.location.href = "Agenda.html";
            }
        }

        inicio()
    </script>
</head>
<body>
    
</body>
</html>